<html>
<head>
    <title>REAM'd CS:GO Stats</title>

    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="index.js"></script>
    <link href="index.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body onload="getData();">
    <div class="navbar">
        <a href="..">Home</a>
        <a href="shared">Stats</a>
        <div class="dropdown">
            <button class="dropbutton">Players
                <i class="fa fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
                <a href="Tim">Tim</a>
                <a href="#">Ryan</a>
                <a href="#">Collin</a>
                <a href="#">etc.</a>
            </div>
        </div>
        <a href="leaderboards">Leaderboards</a>
    </div>
    <div class="content-wrapper">
      <div class="charts">
          <canvas id="myChart"></canvas>
      </div>

      <div class="filters-wrapper">
          <select onchange="mapFilter()" class="Filter" id="mapFilter">
              <option value ="" disabled selected>Map Filter</option>
              <option value="Cache">Cache</option>
              <option value="Cobblestone">Cobblestone</option>
              <option value="Dust II">Dust II</option>
              <option value="Inferno">Inferno</option>
              <option value="Mirage">Mirage</option>
              <option value="Nuke">Nuke</option>
              <option value="Overpass">Overpass</option>
              <option value="Train">Train</option>
          </select>
          <select onchange="resultsFilter()" class="Filter">
            <option value="" disabled selected>Results Filter</option>
            <option value="win">Win</option>
            <option value="loss">Loss</option>
            <option value="draw">Draw</option>
          </select>
        </div>
        <div class="table-wrapper">
          <table id="timTable">
              <tr>
                  <th>Date</th>
                  <th>Map</th>
                  <th>Score</th>
                  <th>Rating</th>
                  <th>Adr</th>
                  <th>KDD</th>
                  <th>KPR</th>
                  <th>KPR:T</th>
                  <th>KPR:CT</th>
                  <th>Entries</th>
                  <th>HS%</th>
                  <th>Kills</th>
                  <th>Assists</th>
                  <th>Deaths</th>
              </tr>
              <tr>
                <th colspan="3">Averages:</th>
              </tr>
              <tr>
                <td>7/8/2019</td>
                <td>Cache</td>
                <td>11-16</td>
                <td>1.09</td>
                <td>102.5</td>
                <td>2</td>
                <td>.78</td>
                <td>.92</td>
                <td>.66</td>
                <td>NULL</td>
                <td>42.86%</td>
                <td>21</td>
                <td>5</td>
                <td>19</td>
              </tr>
              <tr>
                <td>7/8/2019</td>
                <td>Train</td>
                <td>16-11</td>
                <td>1.09</td>
                <td>102.5</td>
                <td>2</td>
                <td>.78</td>
                <td>.92</td>
                <td>.66</td>
                <td>NULL</td>
                <td>42.86%</td>
                <td>21</td>
                <td>5</td>
                <td>19</td>
              </tr>
          </table>
        </div>
      </div>
  </div>

<script src="./node_modules/chart.js/dist/Chart.js"></script>
<script>
    function mapFilter() {
        var table = document.getElementById("timTable");
        var input = document.getElementById("mapFilter");
        var tr = table.getElementsByTagName("tr");
        var filter = input.options[input.selectedIndex].value;
        filter = filter.toUpperCase();

        for (i = 0; i < tr.length; i++) {
            td = tr[i].getElementsByTagName("td")[1];
            if (td) {
                if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    }

    function resultsFilter() {
      var table = document.getElementById("timTable");
      var input = document.getElementById("resultsFilter");
      var tr = table.getElementsByTagName("");
      var filter = input.options[input.selectedIndex].value;

      for (i = 0;  i < tr.length; i++) {
        td = tr[i].getElementsByTagName("td")[2];
        if (td) {

        }
      }
    }

    var ctx = document.getElementById("myChart");
    var chart = new Chart(ctx, {
        type: 'line',
        data: {
            //labels: ["January", "February", "March"]
            datasets: [{
                label: 'test Ratings',
                data: [{
                    x: 2,
                    y: 1
                }, {
                    x: 10,
                    y:5
                }, {
                    x: 15,
                    y: 1
                }],
                fill: false,
                lineTension:0
            }]
        },
        options: {
            scales: {
                xAxes: [{
                    type: 'linear',
                }]
            }
        }
    });
</script>
</body>
</html>
